import{$ as H,B as s,C as u,E as y,F as f,G as _,M as c,N as d,O as A,P as R,Q as p,R as o,S as r,T as l,U as B,V as O,W as v,Z as a,_ as g,aa as m,da as z,i as D,ia as L,la as E,m as M,n as b,oa as U,p as F,q as k,qa as V,r as N,ra as $,s as j,ta as T,ua as X,w as h}from"./chunk-2HKLM7FD.js";var Q=t=>["/shop/product",t],S=class t{product;constructor(){this.product={id:0,image:"",title:"",description:"",price:0}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["product-card"]],inputs:{product:"product"},standalone:!1,decls:11,vars:11,consts:[[1,"col"],[1,"card","wow","animate__flipInX"],[1,"image-link",3,"href"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text","line-clamp-3"],[1,"btn","btn-primary","hvr-grow",3,"routerLink"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"a",2),l(3,"img",3),r(),o(4,"div",4)(5,"h5",5),a(6),r(),o(7,"p",6),a(8),r(),o(9,"a",7),a(10,"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435 "),r()()()()),e&2&&(u(2),p("href",m(n.product.image),s),u(),p("src",m(n.product.image),s)("alt",m(n.product.title)),u(3),g(n.product.title),u(2),g(n.product.description),u(),p("routerLink",z(9,Q,n.product.id)))},dependencies:[$],styles:[".line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;overflow:hidden}"]})};var Z=(t,i)=>i.title;function tt(t,i){t&1&&(o(0,"div",2)(1,"div",4)(2,"span",5),a(3,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430..."),r()(),o(4,"p",6),a(5,"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438 \u0447\u0430\u044F..."),r()())}function et(t,i){if(t&1&&l(0,"product-card",7),t&2){let e=i.$implicit;p("product",e)}}function it(t,i){if(t&1&&(o(0,"div",3),A(1,et,1,1,"product-card",7,Z),r()),t&2){let e=v();u(),R(e.products)}}function ot(t,i){t&1&&(o(0,"div",2)(1,"div",8),l(2,"i",9),a(3," \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438 \u0447\u0430\u044F. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435. "),r()())}var P=class t{constructor(i){this.http=i}title=h("tea-angular");loading=h(!0);products=[];ngOnInit(){this.loadProducts()}loadProducts(){this.loading.set(!0),this.http.get("https://testologia.ru/tea").subscribe({next:i=>{this.products=i,this.loading.set(!1)},error:i=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0442\u043E\u0432\u0430\u0440\u043E\u0432:",i),this.loading.set(!1)}})}static \u0275fac=function(e){return new(e||t)(y(E))};static \u0275cmp=f({type:t,selectors:[["shop-component"]],standalone:!1,decls:6,vars:3,consts:[[1,"h2","text-center","my-5"],[1,"container","mb-5"],[1,"text-center","py-5"],[1,"row","row-cols-1","row-cols-md-3","g-4","pb-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[3,"product"],["role","alert",1,"alert","alert-warning"],[1,"bi","bi-exclamation-triangle","me-2"]],template:function(e,n){e&1&&(o(0,"div",0),a(1,"\u041D\u0430\u0448\u0438 \u0447\u0430\u0439\u043D\u044B\u0435 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438"),r(),o(2,"div",1),c(3,tt,6,0,"div",2),c(4,it,3,0,"div",3),c(5,ot,4,0,"div",2),r()),e&2&&(u(3),d(n.loading()?3:-1),u(),d(!n.loading()&&n.products.length>0?4:-1),u(),d(!n.loading()&&n.products.length===0?5:-1))},dependencies:[S],encapsulation:2})};var w=class t{constructor(i){this.http=i}getProduct(i){return this.http.get(`https://testologia.ru/tea?id=${i}`)}static \u0275fac=function(e){return new(e||t)(F(E))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};function nt(t,i){t&1&&(o(0,"div",2)(1,"div",4)(2,"span",5),a(3,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430..."),r()(),o(4,"p",6),a(5,"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0442\u043E\u0432\u0430\u0440..."),r()())}function ut(t,i){if(t&1&&(o(0,"div",13)(1,"span",18),a(2),r()()),t&2){let e=v(2);u(2),H("",e.product.price," \u20BD")}}function at(t,i){if(t&1){let e=B();o(0,"div",3)(1,"div",7)(2,"div",8)(3,"a",9),l(4,"img",10),r(),o(5,"div",11)(6,"h5",12),a(7),r(),c(8,ut,3,1,"div",13),o(9,"p",14),a(10),r(),o(11,"div",15)(12,"a",16),O("click",function(){N(e);let J=v();return j(J.goToCheckout())}),l(13,"i",17),a(14,"\u041A\u0443\u043F\u0438\u0442\u044C "),r()()()()()()}if(t&2){let e=v();u(3),p("href",m(e.product.image),s),u(),p("src",m(e.product.image),s)("alt",m(e.product.title)),u(3),g(e.product.title),u(),d(e.product.price&&e.product.price>0?8:-1),u(2),g(e.product.description)}}function ct(t,i){t&1&&(o(0,"div",2)(1,"div",19),a(2," \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435 \u043E \u0442\u043E\u0432\u0430\u0440\u0435. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435. "),r()())}var I=class t{constructor(i,e){this.activateRoute=i;this.productService=e;this.product={id:0,image:"",title:"",description:"",price:0}}router=k(V);loading=h(!0);error=!1;product;ngOnInit(){this.activateRoute.paramMap.subscribe(i=>{let e=Number(i.get("id"));if(!e){this.router.navigate(["/"]);return}this.loading.set(!0),this.productService.getProduct(e).pipe(D(()=>this.loading.set(!1))).subscribe(n=>{n?this.product=n:this.router.navigate(["/"])})})}goToCheckout(){this.product?.title&&this.router.navigate(["/checkout"],{queryParams:{product:this.product.title}})}static \u0275fac=function(e){return new(e||t)(y(U),y(w))};static \u0275cmp=f({type:t,selectors:[["product"]],standalone:!1,decls:6,vars:3,consts:[[1,"h2","text-center","my-5"],[1,"container","mb-5"],[1,"text-center","py-5"],[1,"row","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"col-lg-8","col-xl-6"],[1,"card","wow","animate__flipInX","shadow-sm"],[1,"image-link","d-block","text-center","p-3",3,"href"],[1,"card-img-top","img-fluid","product-image",2,"max-height","400px","width","auto","object-fit","contain",3,"src","alt"],[1,"card-body","p-4"],[1,"card-title","mb-3","fs-4"],[1,"product-price","mb-3"],[1,"card-text","mb-4","lh-base"],[1,"text-center"],[1,"btn","btn-primary","hvr-grow","px-4","py-2",3,"click"],[1,"bi","bi-cart3","me-2"],[1,"h4","text-primary","fw-bold"],["role","alert",1,"alert","alert-warning"]],template:function(e,n){e&1&&(o(0,"div",0),a(1,"\u041F\u0440\u043E\u0434\u0443\u043A\u0442"),r(),o(2,"div",1),c(3,nt,6,0,"div",2),c(4,at,15,9,"div",3),c(5,ct,3,0,"div",2),r()),e&2&&(u(3),d(n.loading()?3:-1),u(),d(!n.loading()&&n.product?4:-1),u(),d(!n.loading()&&!n.product?5:-1))},encapsulation:2})};var dt=[{path:"",component:P,title:"\u041A\u0430\u0442\u0430\u043B\u043E\u0433"},{path:"product/:id",component:I,title:"\u041F\u0440\u043E\u0434\u0443\u043A\u0442"}],x=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=_({type:t});static \u0275inj=b({imports:[T.forChild(dt),T]})};var G=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=_({type:t});static \u0275inj=b({imports:[L,X,x,x]})};export{G as ProductsModule};
